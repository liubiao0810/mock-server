# mock-server
前後端分離mock-server

### mock server

##### 時間：
> 2016-12-22 星期四  十一月廿四丙申年 【猴年】庚子月 戊寅日

##### 宜

> 订盟 纳采 会亲友 安机械 开光

##### 忌

> 祈福 出火 嫁娶 入宅 开市

##### 地點

> 40.0501100630,116.2840624531

##### 作者

> [@花夏](mailto:liubiao@itoxs.com)

#### 前景提要

[請點擊查看](http://www.huar.love/blog/2016/11/25/mock-server-chu-ding/index.html)

##### 優點

1.前後端開發互不掣肘，且分工明確；

2.mock server由雙方制定接口后共同維護，當然具體誰維護自己定，這並不重要，只要能提高效率就好，別老是加班加班了，為什麼程序員一定要加吧，你在逗我吧！！！

3.雙方完全按照前期制定接口開發，誰修改誰負責（因修改帶來的多成本）

雖然前期制定接口時間增加了，（其實並未增加，只是將制定接口的時間統一到一個時間段，做這件事情而已），所以有了良好的規範，開發效率那是嗖嗖的，加毛線班啊，見鬼去吧~~~

所以要開始做一個提高前後端分離的解決方案，我知道市面上已經很多這樣的產品了，比如阿里的[rap](http://rapapi.net/) 但是他是java開發的，很多FE根本不會搞，而且搞起來很麻煩，我就只想在開發時獲取一份有意義並且合適json數據而已，搞那麼複雜幹嘛。當然也有很多歪果仁的東西，寫得相當不錯，功能特別強大，但是可能我只想用其中一部分功能，或者其他沒有的功能，（勿噴！）還是那句話別人的輪子能用但是其中的構造沒有完全去拆開看過的，我特別不放心的。所以還是自己造一個輪子吧，並且把輪子拆解成若干個細小單元，讓使用者能知道到底發生了什麼，這點看起來很重要；就好比一本武功秘籍一樣，開始都會用，但只是用其形，而未用其神，當你融會貫通后，哪怕一招，用其神，即可稱霸江湖~~~

這就是我要自己寫一本武功秘籍的原因，每招每式都是特別精簡而又精細。

#### 打算使用的技術選型

> 1.前端頁面: vue + semanticUI

> 2.後端server: （nodejs + express) \ python + mongodb

#### 前端要做的事情：

0.註冊頁面；

1.登錄頁面；

2.創建產品線；

3.根據產品線創建接口服務（同其他產品線接口服務隔離開，互不影響）；

4.可以複製已經存在的接口服務至新的接口服務；

5.編輯已存在的接口服務；

6.刪除已存在的接口服務；

7.提供歷史接口服務記錄，輕鬆回滾；（使用指向回滾，並不是文件替換回滾）

8.restful接口風格，統一儲存，json數據保存至mongodb;

#### 後端server要做的事情：

0.註冊功能；（前期只允許管理員添加賬號）；

1.登陸功能；

2.各個產品線不能相互影響，數據不能串；

3.根據自己賬號下的請求接口返回對應數據；如果不存在，返回默認提示數據；

4.返回的數據需要動態變化的；參考mockjs

5.支持 `post` `put` `delate` 等等方式，需要支持功能：比如`delate`列表的數據后會刷請求列表，需要真正的返回剛剛刪掉的某條數據，但是實際上列表接口不能真正刪除，否則就給下次或者以後造成混亂，需要做的事，創建臨時文件，然後複製真正接口數據并刪掉對應的數據即可，並且帶有垃圾回收機制：當不使用時刪除！！！；

6.其他功能參照前端功能對應做；

後續會有增加功能，歡迎提建議，你需要的功能，合理我會繼續加上去，目前只是一個原型，我正在加緊開發中，奈何是年底並且工作又很忙，只能有時間擼代碼了~~~

彩蛋: 細心的觀眾可能會想到，不管你想沒想到，來一波彩蛋

使用vue開發的頁面，對seo極不友好，通過搜索引擎出來的頁面，可能就是一個空表頁面或者只有header和footer；所以這也是一個關鍵點。吶吶吶...彩蛋來襲~~~ 這個點要做的就是，使用靜態化技術讓爬蟲爬取靜態頁面，當用戶通過搜索引擎進入時又重新定向到實際地址，怎麼做，什麼功能敬請期待，當然這裡我敢說，就不怕你去做，你去做了我就省得做了，我是一個很懶的人~~~ 哇咔咔~~